{"version":3,"file":"static/js/406.b7a33d5e.chunk.js","mappings":"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","sources":["components/Api/Api.js","components/Loader.js","webpack://react-homework-template/./src/components/MoviesList.module.css?c9d5","components/MoviesList.js","webpack://react-homework-template/./src/components/Searchbar.module.css?2a61","components/Searchbar.js","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '1e921bda25d654ede2c45d2e5f25e7d6';\n\nexport const getTrending = async () => {\n  const response = await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n  return response.data.results;\n};\n\nexport const searchMovies = async query => {\n  const response = await axios.get(\n    `search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  return response.data.results;\n};\n\nexport const getMovieDetails = async id => {\n  const response = await axios.get(\n    `movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data;\n};\nexport const getMovieCredits = async id => {\n  const response = await axios.get(\n    `movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data;\n};\nexport const getReviews = async id => {\n  const response = await axios.get(\n    `movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return response.data;\n};\n","import { RotatingLines } from 'react-loader-spinner';\nimport PropTypes from 'prop-types';\n\nexport const Loader = () => {\n  <RotatingLines\n    strokeColor=\"grey\"\n    strokeWidth=\"5\"\n    animationDuration=\"0.75\"\n    width=\"96\"\n    visible={true}\n  />;\n};\n\nLoader.propTypes = {\n  isLoading: PropTypes.bool,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__9B2ki\"};","import css from './MoviesList.module.css';\nimport { Link } from 'react-router-dom';\n\nexport const MoviesList = ({ movies }) => {\n  return (\n    <ul className={css.list}>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <Link to={`/movies/${movie.id}`}>{movie.title}</Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Searchbar_searchbar__z+72U\",\"search\":\"Searchbar_search__K-PE+\",\"input\":\"Searchbar_input__7Ee+9\",\"icon\":\"Searchbar_icon__Qx74g\"};","import React from 'react';\nimport css from './Searchbar.module.css';\nimport { VscSearch } from 'react-icons/vsc';\nimport PropTypes from 'prop-types';\nimport { useState } from 'react';\n\nexport const Searchbar = ({ onSubmit }) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const handleChange = e => {\n    setSearchQuery(e.target.value.toLowerCase());\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(searchQuery);\n    setSearchQuery('');\n  };\n  return (\n    <form className={css.searchbar} onSubmit={handleSubmit}>\n      <div className={css.search}>\n        <input\n          className={css.input}\n          name=\"value\"\n          value={searchQuery}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          onChange={handleChange}\n        />\n        <button\n          className={css.icon}\n          type=\"submit\"\n          disabled={searchQuery.trim() === ''}\n        >\n          <VscSearch />\n        </button>\n      </div>\n    </form>\n  );\n};\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import React from 'react';\nimport { Searchbar } from '../components/Searchbar.js';\nimport { useState, useEffect } from 'react';\nimport { searchMovies } from 'components/Api/Api';\nimport { useSearchParams } from 'react-router-dom';\nimport { MoviesList } from 'components/MoviesList.js';\nimport { Loader } from 'components/Loader.js';\n\nexport const Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    const query = searchParams.get('query');\n    if (!query) return;\n    const getMovieByQuery = async () => {\n      try {\n        setIsLoading(true);\n        const result = await searchMovies(query);\n\n        console.log(result);\n\n        setMovies(result);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getMovieByQuery();\n  }, [searchParams]);\n\n  const handleSubmit = query => {\n    setSearchParams({ query });\n  };\n  return (\n    <section>\n      <Searchbar onSubmit={handleSubmit} />\n      {isLoading && <Loader />}\n      {error && (\n        <p>Sorry, an error occurred! Error: {error} Please try again later!</p>\n      )}\n      {movies.length > 0 && <MoviesList movies={movies} />}\n    </section>\n  );\n};\n"],"names":["axios","API_KEY","getTrending","response","data","results","searchMovies","query","getMovieDetails","id","getMovieCredits","getReviews","Loader","MoviesList","movies","className","css","map","movie","to","title","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","e","preventDefault","name","value","type","autoComplete","autoFocus","placeholder","onChange","target","toLowerCase","disabled","trim","Movies","setMovies","isLoading","setIsLoading","error","setError","useSearchParams","searchParams","setSearchParams","useEffect","get","getMovieByQuery","result","console","log","message","length"],"sourceRoot":""}